{% extends "pages/page.html" %}

{% load mezzanine_tags staticfiles %}

{% block extra_css %}
<link rel="stylesheet" href="{% static "css/baguetteBox.css" %}"
{% endblock %}

{% block extra_js %}
<script src="{% static "js/baguetteBox.js" %}"></script>
{% endblock %}

{% block main %}
<section id="portfolio" class="container">
    {{ block.super }}

    {% editable page.albumslibrary.content %}
    {{ page.albumslibrary.content|richtext_filter|safe }}
    {% endeditable %}
    <ul class="portfolio-items col-3">
        {% for items in detail %}
        <li class="portfolio-item apps">
        <div class="baguetteBox{{ forloop.counter }} gallery item-inner">
            {% for item in items %}
            <a href="{{ MEDIA_URL }}{{ item.file }}" title="{{ item.title }}"><img src="{{ MEDIA_URL }}{{ item.file }}" /></a>
            {% if forloop.first %}
            <h5>{{ item.description }}</h5>
            {% endif %}
            {% endfor %}
        </div>
        </li>
        {% endfor %}
    </ul>
</section>


<script>
window.onload = function(){
    $(".gallery").each(function(i, item){baguetteBox.run('.' + $(item).attr('class').split(' ')[0], {animation: 'fadeIn',});});
}
</script>
{% endblock %}
