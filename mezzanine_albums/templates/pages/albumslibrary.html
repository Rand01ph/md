{% extends "pages/page.html" %}

{% load mezzanine_tags staticfiles %}

{% block extra_css %}
<link rel="stylesheet" href="{% static "css/baguetteBox.css" %}"
{% endblock %}

{% block extra_js %}
<script src="{% static "js/baguetteBox.js" %}"></script>
{% endblock %}

{% block main %}
{{ block.super }}

{% editable page.albumslibrary.content %}
{{ page.albumslibrary.content|richtext_filter|safe }}
{% endeditable %}

<div>
    {% for items in detail %}
    <div class="baguetteBox{{ forloop.counter }} gallery">
        {% for item in items %}
        <a href="{{ MEDIA_URL }}{{ item.file }}"><img src="{{ MEDIA_URL }}{% thumbnail item.file 100 100 %}" /></a>
        {% endfor %}
    </div>
    {% endfor %}
</div>

<script>
window.onload = function(){
    $(".gallery").each(function(i, item){baguetteBox.run('.' + $(item).attr('class').split(' ')[0]);});
}
</script>
{% endblock %}
